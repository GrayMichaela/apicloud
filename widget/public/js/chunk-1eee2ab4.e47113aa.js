(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1eee2ab4"],{5774:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"",""])},"6d99":function(t,e,a){"use strict";a.r(e);a("ac6a"),a("2caf"),a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("7f7f"),a("6b54"),a("87b3"),a("1c01"),a("58b2"),a("8e6e"),a("f3e2"),a("d25f"),a("456d");var n=a("ade3"),s=a("ca00");function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c=function(t){var e=t.name,a=t.path,n=void 0===a?null:a,r=v,c=m();if(!Object(s["h"])(c.msg)){var i=c.sqliteDB,l={name:e,path:n},u=i.openDatabaseSync(l);return o(o({},r),u)}r.status=!1,r.msg=c.msg},i=function(t){var e=v,a=m();if(!Object(s["h"])(a.msg)){var n=a.sqliteDB,r={name:t},c=n.closeDatabaseSync(r);return o(o({},e),c)}e.status=!1,e.msg=a.msg},l=function(t){var e=t.name,a=t.operation,n=v,r=m();if(!Object(s["h"])(r.msg)){var c=r.sqliteDB,i={name:e,operation:a},l=c.transactionSync(i);return o(o({},n),l)}n.status=!1,n.msg=r.msg},u=function(t){var e=t.name,a=t.sql,n=v,r=m();if(!Object(s["h"])(r.msg)){var c=r.sqliteDB,i={name:e,sql:a},l=c.executeSqlSync(i);return o(o({},n),l)}n.status=!1,n.msg=r.msg},f=function(t){var e=t.name,a=t.sql,n=v,r=m();if(!Object(s["h"])(r.msg)){var c=r.sqliteDB,i={name:e,sql:a},l=c.selectSqlSync(i);return o(o({},n),l)}n.status=!1,n.msg=r.msg},m=function(){var t=null,e="";if(Object(s["f"])())try{if(t=window.api.require("db"),Object(s["g"])(t))throw new Error("请首先加载db模块")}catch(a){e="请首先加载db模块"}else e="请在App环境下使用该功能";return{sqliteDB:t,msg:e}},v={status:!0,data:[],code:"",msg:""};function b(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=p(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,c=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return o=t.done,t},e:function(t){c=!0,r=t},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw r}}}}function p(t,e){if(t){if("string"===typeof t)return d(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var h={name:"SqliteDemo",data:function(){return{}},methods:{handleOpenDatabase:function(){var t=c({name:"test"});console.log("openDatabase",t),t.status?this.$toast.success("打开数据库成功"):this.$toast.fail("打开数据库失败，原因："+t.msg)},handleCloseDatabase:function(){var t=i("test");console.log("closeDatabase",t),t.status?this.$toast.success("关闭数据库成功"):this.$toast.fail("关闭数据库失败，原因："+t.msg)},handleCreateTable:function(){var t="CREATE TABLE Persons(p_Name varchar(100),p_Address varchar(200),p_City varchar(30))",e=u({name:"test",sql:t});e.status?this.$toast.success("创建表Persons成功"):this.$toast.fail("创建表Persons，原因："+e.msg)},handleAddTestData:function(){var t="insert into Persons(p_Name,p_Address,p_City) values('小明','aaaa','德阳');",e=u({name:"test",sql:t});e.status?this.$toast.success("写入测试数据成功"):this.$toast.fail("写入测试数据失败，原因："+e.msg)},handleSelectData:function(){var t="select p_Name,p_Address,p_City from Persons",e=f({name:"test",sql:t});if(e.status){console.log("selectSql",e.data);var a,n="",s=b(e.data);try{for(s.s();!(a=s.n()).done;){var r=a.value;n+=r.p_Name+","}}catch(o){s.e(o)}finally{s.f()}this.$toast.success("查询测试数据成功，获取的人名有："+n)}else this.$toast.fail("查询测试数据失败，原因："+e.msg)},handleTransaction:function(){var t=l({name:"test",operation:"begin"}),e="";if(t.status)try{if(e="insert into Persons(p_Name,p_Address,p_City) values('小白','cccc','成都');",t=u({name:"test",sql:e}),!t.status)throw new Error(t.msg);if(e="insert into Persons(p_Name,p_Address,p_City) values('小天','bbb','成都');",t=u({name:"test",sql:e}),!t.status)throw new Error(t.msg);if(t=l({name:"test",operation:"commit"}),!t.status)throw new Error(t.msg);this.$toast.success("事务操作成功")}catch(a){l({name:"test",operation:"rollback"}),this.$toast.fail("事务操作成功，原因："+a)}}}},g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-button",{on:{click:t.handleOpenDatabase}},[t._v("打开数据库")]),t._v(" "),a("van-button",{on:{click:t.handleCloseDatabase}},[t._v("关闭数据库")]),t._v(" "),a("van-button",{on:{click:t.handleCreateTable}},[t._v("创建Persons表")]),t._v(" "),a("van-button",{on:{click:t.handleAddTestData}},[t._v("写入测试数据")]),t._v(" "),a("van-button",{on:{click:t.handleSelectData}},[t._v("查询数据")]),t._v(" "),a("van-button",{on:{click:t.handleTransaction}},[t._v("事务写入数据")])],1)},y=[],O=a("2455");function _(t){a("e96c")}var w=!1,j=_,D="data-v-0646c206",q=null,S=Object(O["a"])(h,g,y,w,j,D,q);e["default"]=S.exports},e96c:function(t,e,a){var n=a("5774");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=a("499e").default;s("1c6ae6b8",n,!0,{})}}]);