(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4762731d"],{"1f7c":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"\n.pop[data-v-1a43c167] {\n  width: 100%;\n  height: 100%;\n  z-index: 10086;\n}\n.masker[data-v-1a43c167] {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  background-color: #fff;\n}\n.masker .header[data-v-1a43c167] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  height: 1.06667rem;\n  padding: 0 0.13333rem;\n  border-bottom: 0.02667rem solid #e8e8e8;\n}\n.masker .header .close[data-v-1a43c167],\n.masker .header .sure[data-v-1a43c167] {\n  font-size: 0.32rem;\n  padding: 0.05333rem 0.13333rem;\n}\n.masker .header .title[data-v-1a43c167] {\n  font-size: 0.34667rem;\n  font-weight: bold;\n  color: #222328;\n}\n.masker .body[data-v-1a43c167] {\n  width: 100%;\n  height: calc(100% - 1.06667rem);\n  overflow: auto;\n}\n",""])},2909:function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e){if(Array.isArray(e))return i(e)}function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function o(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return a(e)||r(e)||o(e)||s()}n.d(t,"a",(function(){return c}))},"36bd":function(e,t,n){"use strict";var i=n("4bf8"),a=n("77f1"),r=n("9def");e.exports=function(e){var t=i(this),n=r(t.length),o=arguments.length,s=a(o>1?arguments[1]:void 0,n),c=o>2?arguments[2]:void 0,l=void 0===c?n:a(c,n);while(l>s)t[s++]=e;return t}},5118:function(e,t,n){(function(e){var i="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,a=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(a.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(a.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n("6017"),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("c8ba"))},"525c":function(e,t,n){var i=n("c6b0");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("499e").default;a("34bfddac",i,!0,{})},6017:function(e,t,n){(function(e,t){(function(e,n){"use strict";if(!e.setImmediate){var i,a=1,r={},o=!1,s=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?m():p()?b():e.MessageChannel?v():s&&"onreadystatechange"in s.createElement("script")?h():g(),c.setImmediate=l,c.clearImmediate=d}function l(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return r[a]=o,i(a),a++}function d(e){delete r[e]}function f(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i);break}}function u(e){if(o)setTimeout(u,0,e);else{var t=r[e];if(t){o=!0;try{f(t)}finally{d(e),o=!1}}}}function m(){i=function(e){t.nextTick((function(){u(e)}))}}function p(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function b(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&u(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),i=function(n){e.postMessage(t+n,"*")}}function v(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;u(t)},i=function(t){e.port2.postMessage(t)}}function h(){var e=s.documentElement;i=function(t){var n=s.createElement("script");n.onreadystatechange=function(){u(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function g(){i=function(e){setTimeout(u,0,e)}}})("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n("c8ba"),n("f28c"))},"620b":function(e,t,n){"use strict";n.r(t);var i=n("df99"),a=(n("6c7b"),n("6d67"),{name:"LbSelect",props:{defaultSelectedIds:{type:Array,default:function(){return[]},require:!0},multiple:{type:Boolean,default:!0}},data:function(){return{finished:!1,list:new Array(40).fill(1).map((function(e,t){return{name:"林班".concat(t),id:t}})),name:"",visible:!1,selectedIds:[5,7,2],loading:!1}},methods:{show:function(){this.visible=!0},ok:function(){},cancel:function(){this.visible=!1},onRefresh:function(){var e=this;setTimeout((function(){e.loading=!1}),1500)},onLoad:function(){console.log(arguments)}}}),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-popup",{staticClass:"pop",attrs:{closeable:""},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.multiple?n("van-checkbox-group",{model:{value:e.selectedIds,callback:function(t){e.selectedIds=t},expression:"selectedIds"}},e._l(e.list,(function(t){return n("van-checkbox",{key:t.id,attrs:{shape:"square",name:t.id}},[e._v(e._s(t.name))])})),1):e._e()],1)},o=[],s=n("2455");function c(e){n("8541")}var l=!1,d=c,f="data-v-1a43c167",u=null,m=Object(s["a"])(a,r,o,l,d,f,u),p=m.exports,b={name:"cus-form",components:{SUpload:i["a"],LbSelect:p},data:function(){return{lbids:[],type:1,check:["bch"],loading:!1,xzqh:"行政区划行政区划行政区划行政区划行政区划行政区划行政区划行政区划行政区划行政区划行政区划行政区划行政区划行政区划行政区划"}},methods:{showlb:function(){this.$refs.lb.show()},uploadSuccess:function(){var e=this;this.loading=!0,setTimeout((function(){e.loading=!1}),1e3)}}},v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form"},[n("div",{staticClass:"formItem row aic jcsb"},[n("div",{staticClass:"label"},[e._v("行政区划")]),e._v(" "),n("div",{staticClass:"inputContent row aic jcfe"},[n("div",{staticClass:"nowrap"},[e._v("\n        "+e._s(e.xzqh)+"\n      ")]),e._v(" "),n("span",{staticClass:"arrow"})])]),e._v(" "),n("div",{staticClass:"formItem row aic jcsb",on:{click:e.showlb}},[n("div",{staticClass:"label"},[e._v("选择林班")]),e._v(" "),n("div",{staticClass:"inputContent row aic jcfe"},[n("div",{staticClass:"nowrap"},[e._v("\n        "+e._s(e.xzqh)+"\n      ")]),e._v(" "),n("span",{staticClass:"arrow"})])]),e._v(" "),n("div",{staticClass:"formItem row aic jcsb"},[n("div",{staticClass:"label"},[e._v("选择小班")]),e._v(" "),n("div",{staticClass:"inputContent row aic jcfe"},[n("div",{staticClass:"nowrap"},[e._v("\n        "+e._s(e.xzqh)+"\n      ")]),e._v(" "),n("span",{staticClass:"arrow"})])]),e._v(" "),n("div",{staticClass:"formItem"},[n("div",{staticClass:"label"},[e._v("问题类型")]),e._v(" "),n("div",{staticClass:"box row"},[n("div",{class:["item",1===e.type&&"active"],on:{click:function(t){e.type=1}}},[e._v("森林防护")]),e._v(" "),n("div",{class:["item",2===e.type&&"active"],on:{click:function(t){e.type=2}}},[e._v("资源监管")]),e._v(" "),n("div",{class:["item",3===e.type&&"active"],on:{click:function(t){e.type=3}}},[e._v("其他")])]),e._v(" "),n("van-checkbox-group",{staticClass:"box",attrs:{direction:"horizontal"},model:{value:e.check,callback:function(t){e.check=t},expression:"check"}},[n("van-checkbox",{attrs:{shape:"square",name:"bch"}},[e._v("病虫害")]),e._v(" "),n("van-checkbox",{attrs:{shape:"square",name:"hz"}},[e._v("火灾")])],1)],1),e._v(" "),n("div",{staticClass:"formItem"},[n("div",{staticClass:"label"},[e._v("问题描述")]),e._v(" "),n("van-field",{staticClass:"textarea",attrs:{autosize:"",type:"textarea",placeholder:"请输入留言"}})],1),e._v(" "),n("div",{staticClass:"formItem"},[n("div",{staticClass:"label"},[e._v("添加图片或视频")]),e._v(" "),n("s-upload",{staticClass:"upload",attrs:{uploadSuccess:e.uploadSuccess}})],1)])},h=[];function g(e){n("525c")}var w=!1,y=g,x="data-v-fce42310",k=null,_=Object(s["a"])(b,v,h,w,y,x,k),j=_.exports,I={components:{cusForm:j},data:function(){return{loading:!1}},methods:{save:function(){var e=this;this.loading=!0,setTimeout((function(){e.loading=!1}),1e3)}}},O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[e._m(0),e._v(" "),n("cus-form"),e._v(" "),n("div",{staticClass:"save"},[n("van-button",{attrs:{loading:e.loading,type:"primary",block:""},on:{click:e.save}},[e._v("保存")])],1)],1)},C=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"maps"},[n("div",{staticClass:"address"},[n("div",{staticClass:"text"},[e._v("详细地址")]),e._v(" "),n("div",{staticClass:"value"},[e._v("四川省成都市龙泉驿区丹桂街166号靠近万科金色城市1期")])]),e._v(" "),n("div",{staticClass:"map"})])}];function S(e){n("6a0e")}var T=!1,F=S,A="data-v-118d469c",z=null,P=Object(s["a"])(I,O,C,T,F,A,z);t["default"]=P.exports},6261:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var i=n("c080"),a=n("6736"),r=function(e){return Object(i["f"])({url:a["a"].framework.file.uploadFile,formData:e})},o=function(e){return Object(i["b"])({url:a["a"].framework.file.downloadFile+"/"+e})},s=function(e){return Object(i["a"])({url:a["a"].framework.file.deleteFile+"/"+e})}},"6a0e":function(e,t,n){var i=n("8f6d");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("499e").default;a("5d35b23b",i,!0,{})},"6c7b":function(e,t,n){var i=n("5ca1");i(i.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},8541:function(e,t,n){var i=n("1f7c");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("499e").default;a("7d5be662",i,!0,{})},"8f6d":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"\n.container[data-v-118d469c] {\n  width: 100%;\n  height: 100%;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.container .maps[data-v-118d469c] {\n  margin-top: 0.32rem;\n  -webkit-box-shadow: 0 0 0.16rem 0 rgba(0, 0, 0, 0.1);\n          box-shadow: 0 0 0.16rem 0 rgba(0, 0, 0, 0.1);\n  width: 100%;\n  height: 3.2rem;\n  position: relative;\n}\n.container .maps .address[data-v-118d469c] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  background-color: rgba(255, 255, 255, 0.9);\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0.32rem;\n}\n.container .maps .address .text[data-v-118d469c] {\n  color: #666666;\n  font-size: 0.34667rem;\n}\n.container .maps .address .value[data-v-118d469c] {\n  margin-left: 0.82667rem;\n  width: 7.09333rem;\n  font-size: 0.32rem;\n  color: #666666;\n}\n.container .maps .map[data-v-118d469c] {\n  width: 100%;\n  height: 100%;\n  background-color: #86aeee;\n}\n.container .save[data-v-118d469c] {\n  margin-top: 0.32rem;\n  -webkit-box-shadow: 0 0 0.16rem 0 rgba(91, 103, 89, 0.1);\n          box-shadow: 0 0 0.16rem 0 rgba(91, 103, 89, 0.1);\n  background-color: #fff;\n  padding: 0.34667rem 0.90667rem;\n}\n",""])},9865:function(e,t,n){"use strict";var i=n("5ca1"),a=n("6821"),r=n("4588"),o=n("9def"),s=[].lastIndexOf,c=!!s&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(c||!n("2f21")(s)),"Array",{lastIndexOf:function(e){if(c)return s.apply(this,arguments)||0;var t=a(this),n=o(t.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,r(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in t&&t[i]===e)return i||0;return-1}})},bb29:function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"\n.upload-result[data-v-6feaf926] {\n  margin-top: 0.26667rem;\n}\n.upload-result ul[data-v-6feaf926] {\n  width: 100%;\n}\n.upload-result .item[data-v-6feaf926] {\n  margin-left: 0.37333rem;\n  margin-right: 0.26667rem;\n  margin-bottom: 0.26667rem;\n  display: inline-block;\n  position: relative;\n  border: 0.02667rem solid #e4e6f0;\n  width: 2.66667rem;\n  height: 2.66667rem;\n  text-align: center;\n}\n.upload-result .item img[data-v-6feaf926] {\n  width: 2.13333rem;\n  height: 2.13333rem;\n  margin-top: 0.26667rem;\n}\n.upload-result .item .close[data-v-6feaf926] {\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n",""])},c6b0:function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"\n.form[data-v-fce42310] {\n  padding: 0.10667rem 0.34667rem;\n  margin-top: 0.34667rem;\n  -webkit-box-shadow: 0 0 0.16rem 0 rgba(91, 103, 89, 0.1);\n          box-shadow: 0 0 0.16rem 0 rgba(91, 103, 89, 0.1);\n  background-color: #fff;\n}\n.form .formItem[data-v-fce42310] {\n  padding-top: 0.34667rem;\n  padding-bottom: 0.34667rem;\n  border-bottom: 0.02667rem dashed #dde3ef;\n}\n.form .inputContent[data-v-fce42310] {\n  width: 6.66667rem;\n}\n.form .nowrap[data-v-fce42310] {\n  -o-text-overflow: ellipsis;\n     text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.form .label[data-v-fce42310] {\n  font-size: 0.34667rem;\n  color: #666;\n  width: 2.66667rem;\n}\n.form .formItem[data-v-fce42310]:last-child {\n  border-bottom: none;\n}\n.form .row[data-v-fce42310] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n      -ms-flex-direction: row;\n          flex-direction: row;\n}\n.form .aic[data-v-fce42310] {\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.form .jcsb[data-v-fce42310] {\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.form .jcc[data-v-fce42310] {\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.form .jcfe[data-v-fce42310] {\n  -webkit-box-pack: end;\n  -webkit-justify-content: flex-end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n}\n.form .col[data-v-fce42310] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.form .arrow[data-v-fce42310] {\n  width: 0;\n  height: 0;\n  border-left: 0.10667rem solid #B9B9B9;\n  border-top: 0.10667rem solid transparent;\n  border-right: 0.10667rem solid transparent;\n  border-bottom: 0.10667rem solid transparent;\n}\n.form .box[data-v-fce42310] {\n  margin-top: 0.34667rem;\n  margin-left: 0;\n}\n.form .box .item[data-v-fce42310] {\n  margin-right: 0.34667rem;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  width: 1.81333rem;\n  height: 0.64rem;\n  background-color: rgba(185, 185, 185, 0.2);\n  color: #666;\n  font-size: 0.34667rem;\n  border-radius: 0.08rem;\n}\n.form .box .active[data-v-fce42310] {\n  background-color: #26b28f;\n  color: #fff;\n}\n.form .textarea[data-v-fce42310] {\n  border-radius: 0.16rem;\n  margin-top: 0.34667rem;\n  border: 0.02667rem solid #e8e8e8;\n}\n.form .upload[data-v-fce42310] {\n  margin-top: 0.34667rem;\n}\n.form .box[data-v-fce42310] .van-checkbox__icon--checked .van-icon {\n  background-color: #3A9DFA;\n  border-color: #3A9DFA;\n  border-radius: 0.05333rem;\n  -webkit-box-shadow: 0 0.05333rem 0.10667rem 0 rgba(0, 45, 74, 0.2);\n          box-shadow: 0 0.05333rem 0.10667rem 0 rgba(0, 45, 74, 0.2);\n}\n.form .box[data-v-fce42310] .van-checkbox__icon {\n  height: auto;\n}\n.form .box[data-v-fce42310] .van-checkbox__icon .van-icon {\n  width: 0.37333rem;\n  height: 0.37333rem;\n  font-size: 0.32rem;\n}\n",""])},db6f:function(e,t,n){var i=n("bb29");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("499e").default;a("4374d958",i,!0,{})},df99:function(e,t,n){"use strict";n("1c01"),n("58b2"),n("8e6e"),n("d25f"),n("456d"),n("2caf"),n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("87b3"),n("6762"),n("9865");var i=n("ade3"),a=(n("57e7"),n("7514"),n("ac6a"),n("f3e2"),n("2909")),r=(n("c5f6"),n("6261")),o=n("ca00"),s=n("5118");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function f(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var m={name:"SUpload",props:{accept:{type:String,default:null},maxFileSize:{type:Number,default:2097152},uploadText:{type:String,default:"正在上传，请稍等"},name:{type:String,default:""},authenticationType:{type:String,default:null},permissions:{type:Array,default:null},updatePermissions:{type:Array,default:null},deletePermissions:{type:Array,default:null},uploadSuccess:{type:Function,default:null,required:!1},needShowResult:{type:Boolean,default:!0,required:!1}},data:function(){return{fileList:[],isDisabled:!1,uploadResult:[],previewImgs:[]}},computed:{hasPreviewImg:function(){return this.needShowResult&&this.previewImgs&&this.previewImgs.length>0}},methods:{refresh:function(){this.fileList=[],this.isDisabled=!1,this.uploadResult=[],this.previewImgs=[]},getUploadResult:function(){return this.uploadResult},beforeRead:function(e,t){var n=this,i=e;this.fileList=[].concat(Object(a["a"])(this.fileList),[i]);var s=new FormData;return this.fileList.forEach((function(e){s.append("files[]",e)})),Object(o["h"])(this.authenticationType)&&s.append("authenticationType",this.authenticationType),Object(o["h"])(this.permissions)&&s.append("permissions",JSON.stringify(this.permissions)),Object(o["h"])(this.updatePermissions)&&s.append("updatePermissions",JSON.stringify(this.updatePermissions)),Object(o["h"])(this.permissions)&&s.append("deletePermissions",JSON.stringify(this.deletePermissions)),this.isDisabled=!0,this.$toast.loading({mask:!0,message:"正在上传，请稍等..."}),Object(r["c"])(s).then((function(e){var t,i=d(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.uploadResult.push(a),n.isImg(a.FileName)&&n.addPrevieImgs(a)}}catch(r){i.e(r)}finally{i.f()}n.uploadSuccess&&n.uploadSuccess(e),n.$toast.success("上传成功")})).catch((function(){})).finally((function(){n.fileList=[],n.isDisabled=!1})),!0},afterRead:function(e,t){console.log("a-file",e.file),console.log("a-detail",t)},removeFile:function(e){var t=this;this.$dialog.confirm({message:"您确认要删除该附件吗"}).then((function(){t.$toast.loading({mask:!0,message:"正在删除，请稍等..."}),Object(r["a"])(e).then((function(n){t.removeItemForUploadResult(e),t.removeItemForPrevieImgs(e),t.$toast.success("删除成功")})).catch((function(){})).finally((function(){}))})).catch((function(){}))},removeItemForUploadResult:function(e){var t=this.uploadResult.find((function(t){return t.FileCode===e}));if(t){var n=this.uploadResult.indexOf(t);this.uploadResult.splice(n,1)}},removeItemForPrevieImgs:function(e){var t=this.previewImgs.find((function(t){return t.FileCode===e}));if(t){var n=this.previewImgs.indexOf(t);this.previewImgs.splice(n,1)}},addPrevieImgs:function(e){var t=this,n=Object(s["setTimeout"])((function(){Object(r["b"])(e.FileCode).then((function(i){window.URL=window.URL||window.webkitURL;var a=window.URL.createObjectURL(i),r=l(l({},e),{},{Url:a});t.previewImgs.push(r),Object(s["clearTimeout"])(n)})).catch((function(){}))}),200)},isImg:function(e){var t=["png","jpg","gif","bmp"],n="",i=e.lastIndexOf(".");return i>-1&&(n=e.substr(i+1)),t.includes(n)}}},p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-uploader",{attrs:{accept:e.accept,disabled:e.isDisabled,"max-size":e.maxFileSize,"upload-text":e.uploadText,"before-read":e.beforeRead,"after-read":e.afterRead}},[n("van-icon",{attrs:{name:"plus"}})],1),e._v(" "),e.hasPreviewImg?n("ul",{staticClass:"upload-result"},e._l(e.previewImgs,(function(t,i){return n("li",{key:i,staticClass:"item"},[n("img",{attrs:{src:t.Url,alt:t.FileName,title:t.FileName}}),e._v(" "),n("van-icon",{staticClass:"close",attrs:{name:"clear"},on:{click:function(n){return e.removeFile(t.FileCode)}}})],1)})),0):e._e()],1)},b=[],v=n("2455");function h(e){n("db6f")}var g=!1,w=h,y="data-v-6feaf926",x=null,k=Object(v["a"])(m,p,b,g,w,y,x);t["a"]=k.exports}}]);